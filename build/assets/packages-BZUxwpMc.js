import{J as e,a6 as s}from"./index-CSAjjCSR.js";const c={};async function g(a,t){return e.post(`/api/packages/${a}/pickup/`,t)}async function l(a,t){return e.post(`/api/packages/${a}/deliver/`,t)}function r(a){let t=a.trim();return t.startsWith("/")||(t="/"+t),t.endsWith("/")||(t=t+"/"),t}function p(){const a=c?.VITE_ASSIGN_ENDPOINT,t=[a?r(a):void 0,"/api/packages/assign_package/","/api/assign_package/"].filter(Boolean);return Array.from(new Set(t))}async function u(a){const t=p();let i;for(const o of t)try{return await e.post(o,a)}catch(n){if(i=n,n?.status!==404)throw n}throw i}async function _(a){return u({package_id:a})}async function v(){try{return await e.get("/api/packages/available_packages/")}catch(a){if(a?.status===404)return(await s().catch(()=>[])||[]).map(i=>({delivery_id:i.delivery_id,uuid:null,receiver_name:void 0,receiver_phone:void 0,pickup_location:i.pickup_location||"",pickup_latitude:i.pickup_latitude,pickup_longitude:i.pickup_longitude,delivery_location:i.delivery_location||"",service:void 0,price:void 0,packages:[]}));throw a}}export{_ as a,l as d,v as g,g as p};
