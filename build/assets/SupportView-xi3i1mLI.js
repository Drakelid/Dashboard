import{d as k,r as p,l as j,G as o,I as e,K as r,J as m,y as x,F as h,H as b,W as f,X as _,q as H,s as D,U as V,A as w,o as a,p as $}from"./index-DLxzciMR.js";const E={class:"rounded-xl border bg-white shadow-sm"},P={class:"p-4 border-b"},U={class:"text-sm text-gray-500"},B={class:"p-4 space-y-4"},K={class:"flex gap-2"},R={key:0,class:"space-y-4"},L={class:"flex items-center justify-between mt-1 text-xs opacity-75"},O={key:0},q={key:0,class:"text-center text-gray-500 text-sm py-6"},F={class:"space-y-2"},G={class:"grid grid-cols-1 gap-2"},J=["onClick"],Q={class:"flex gap-2"},z=["onKeydown"],W=["disabled"],X={key:1,class:"space-y-4"},Y={class:"text-center p-6 border rounded-lg bg-gray-50"},Z={class:"font-medium mb-1"},ee={class:"text-sm text-gray-500 mb-4"},te={key:2,class:"space-y-4"},se={class:"space-y-2"},oe={class:"flex justify-between items-center text-sm"},ae={class:"text-gray-500"},ne=["disabled"],re={class:"space-y-2"},le={class:"space-y-2"},ie=["onClick"],de=k({__name:"CustomerCommunication",props:{deliveryId:{},customerName:{},customerPhone:{}},setup(C){const l=p("chat"),i=j([{id:"1",sender:"system",content:"Delivery has been assigned to your driver. ETA: 25 minutes",timestamp:"10:30 AM",status:"delivered"},{id:"2",sender:"customer",content:"Hi! I'm not home right now. Can you leave the package with my neighbor at apartment 2A?",timestamp:"10:45 AM",status:"read"},{id:"3",sender:"driver",content:"Hi Michael! I can leave it with your neighbor. I'll need their name for confirmation.",timestamp:"10:47 AM",status:"read"},{id:"4",sender:"customer",content:"Great! Her name is Sarah Johnson. Thanks!",timestamp:"10:48 AM",status:"read"}]),S=["I'm on my way to your location","Running 5 minutes late due to traffic","Package delivered successfully","Unable to deliver - please contact me","Package requires signature"],d=p(""),u=p(null);function y(){return new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function g(){d.value.trim()&&(i.push({id:Date.now().toString(),sender:"driver",content:d.value,timestamp:y(),status:"sent"}),d.value="",w(()=>u.value?.scrollTo({top:u.value.scrollHeight,behavior:"smooth"})))}function M(n){i.push({id:Date.now().toString(),sender:"driver",content:n,timestamp:y(),status:"sent"}),w(()=>u.value?.scrollTo({top:u.value.scrollHeight,behavior:"smooth"}))}function T(n){return n==="read"||n==="delivered"?"âœ”âœ”":"âœ”"}const c=p(""),A=["Your package is out for delivery. ETA: [TIME]","Delivery attempted - please contact for redelivery","Package delivered successfully to [LOCATION]","Unable to access delivery location - please advise"];function I(){c.value=""}return(n,t)=>(a(),o("section",E,[e("header",P,[t[5]||(t[5]=e("h3",{class:"text-lg font-semibold flex items-center gap-2"},"ðŸ’¬ Customer Communication",-1)),e("p",U,r(n.deliveryId)+" â€” "+r(n.customerName),1)]),e("div",B,[e("div",K,[e("button",{class:m(["h-9 px-3 rounded border text-sm",l.value==="chat"?"bg-blue-600 text-white border-blue-600":"bg-white hover:bg-gray-50"]),onClick:t[0]||(t[0]=s=>l.value="chat")},"ðŸ’¬ Chat",2),e("button",{class:m(["h-9 px-3 rounded border text-sm",l.value==="call"?"bg-blue-600 text-white border-blue-600":"bg-white hover:bg-gray-50"]),onClick:t[1]||(t[1]=s=>l.value="call")},"ðŸ“ž Call",2),e("button",{class:m(["h-9 px-3 rounded border text-sm",l.value==="sms"?"bg-blue-600 text-white border-blue-600":"bg-white hover:bg-gray-50"]),onClick:t[2]||(t[2]=s=>l.value="sms")},"ðŸ“¨ SMS",2)]),l.value==="chat"?(a(),o("div",R,[e("div",{ref_key:"scrollEl",ref:u,class:"h-64 overflow-y-auto border rounded-lg p-3 space-y-3 bg-gray-50"},[(a(!0),o(h,null,b(i,s=>(a(),o("div",{key:s.id,class:m(["flex",s.sender==="driver"?"justify-end":"justify-start"])},[e("div",{class:m(["max-w-[75%] rounded-lg p-2 text-sm shadow-sm",s.sender==="driver"?"bg-blue-600 text-white":s.sender==="customer"?"bg-white border":"bg-gray-200 text-gray-700"])},[e("div",null,r(s.content),1),e("div",L,[e("span",null,r(s.timestamp),1),s.sender==="driver"?(a(),o("span",O,r(T(s.status)),1)):x("",!0)])],2)],2))),128)),i.length===0?(a(),o("div",q,"No messages yet")):x("",!0)],512),e("div",F,[t[6]||(t[6]=e("div",{class:"text-xs text-gray-500"},"Quick Replies",-1)),e("div",G,[(a(),o(h,null,b(S,(s,v)=>e("button",{key:v,class:"text-left justify-start h-auto py-2 px-3 rounded border bg-white hover:bg-gray-50 text-xs",onClick:N=>M(s)},r(s),9,J)),64))])]),e("div",Q,[f(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>d.value=s),type:"text",placeholder:"Type your message...",class:"flex-1 h-9 px-3 rounded border",onKeydown:H(D(g,["prevent"]),["enter"])},null,40,z),[[_,d.value]]),e("button",{class:"h-9 px-3 rounded bg-blue-600 text-white hover:bg-blue-700",disabled:!d.value.trim(),onClick:g}," âž¤ ",8,W)])])):l.value==="call"?(a(),o("div",X,[e("div",Y,[t[7]||(t[7]=e("div",{class:"text-4xl mb-2"},"ðŸ“ž",-1)),e("h4",Z,r(n.customerName),1),e("p",ee,r(n.customerPhone),1),t[8]||(t[8]=e("button",{class:"h-9 w-full rounded bg-blue-600 text-white hover:bg-blue-700"}," Call Customer ",-1))]),t[9]||(t[9]=V('<div class="space-y-2"><h5 class="text-sm font-medium">Call History</h5><div class="space-y-2"><div class="flex justify-between items-center p-2 border rounded text-sm"><span>Outgoing call</span><span class="text-gray-500">10:35 AM â€¢ 1m 23s</span></div><div class="flex justify-between items-center p-2 border rounded text-sm"><span>Incoming call</span><span class="text-gray-500">9:45 AM â€¢ 2m 45s</span></div></div></div>',1))])):(a(),o("div",te,[e("div",se,[t[10]||(t[10]=e("h5",{class:"text-sm font-medium"},"Send SMS Update",-1)),f(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>c.value=s),placeholder:"Type your SMS message...",class:"w-full min-h-[100px] rounded border p-2"},null,512),[[_,c.value]]),e("div",oe,[e("span",ae,"To: "+r(n.customerPhone),1),e("button",{class:"h-9 px-3 rounded bg-blue-600 text-white hover:bg-blue-700",disabled:!c.value.trim(),onClick:I},"Send SMS",8,ne)])]),e("div",re,[t[11]||(t[11]=e("h5",{class:"text-sm font-medium"},"SMS Templates",-1)),e("div",le,[(a(),o(h,null,b(A,(s,v)=>e("button",{key:v,class:"w-full text-left justify-start h-auto py-2 px-3 rounded border bg-white hover:bg-gray-50 text-xs",onClick:N=>c.value=s},r(s),9,ie)),64))])])]))])]))}}),ue={class:"space-y-4"},me=k({__name:"SupportView",setup(C){return(l,i)=>(a(),o("section",ue,[i[0]||(i[0]=e("h2",{class:"text-2xl font-semibold"},"Support",-1)),$(de,{"delivery-id":"SB-002","customer-name":"Michael Chen","customer-phone":"+47 987 65 432"})]))}});export{me as default};
